{"version":3,"sources":["../src/main.jsx"],"names":["log","styles","theme","promptHolder","width","paddingBottom","spacing","unit","marginBottom","prompt","paddingTop","design","choiceConfiguration","Design","props","classes","model","onPromptChanged","onChoiceChanged","onRemoveChoice","onAddChoice","imageSupport","configure","promptLabel","addChoiceButtonLabel","enableAddChoice","enableAddFeedBack","enableDeleteChoice","choices","map","choice","index","keyMode","choiceMode","c","Basics","onChoiceModeChanged","onKeyModeChanged","responseTypeLabel","choicesLabel","enableSelectResponseType","enableSelectChoiceLabel","baseTypes","propTypes","PropTypes","object","isRequired","func","Main","React","Component","constructor","onTabsChange","event","setState","state","render","onPartialScoringChanged","partialScoring","partialScoringLabel","shape","add","delete"],"mappings":"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","file":"main.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport EditableHtml from '@pie-lib/editable-html';\nimport { InputContainer, ChoiceConfiguration } from '@pie-lib/config-ui';\nimport { withStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { ChoiceType, KeyType } from './choice-type';\nimport Button from '@material-ui/core/Button';\nimport debug from 'debug';\nimport PartialScoringConfig from '@pie-lib/scoring-config';\n\nconst log = debug('@pie-element:multiple-choice:main');\n\nconst styles = theme => ({\n  promptHolder: {\n    width: '100%',\n    paddingBottom: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2\n  },\n  prompt: {\n    paddingTop: theme.spacing.unit * 2,\n    width: '100%'\n  },\n  design: {\n    paddingTop: theme.spacing.unit * 3\n  },\n  choiceConfiguration: {\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2\n  }\n});\n\nconst Design = withStyles(styles)(props => {\n  const {\n    classes,\n    model,\n    onPromptChanged,\n    onChoiceChanged,\n    onRemoveChoice,\n    onAddChoice,\n    imageSupport\n  } = props;\n  const { configure: {\n    promptLabel,\n    addChoiceButtonLabel,\n    enableAddChoice,\n    enableAddFeedBack,\n    enableDeleteChoice\n  } } = model;\n\n  return (\n    <div className={classes.design}>\n      <Basics {...props} />\n      <InputContainer label={promptLabel} className={classes.promptHolder}>\n        <EditableHtml\n          className={classes.prompt}\n          markup={model.prompt}\n          onChange={onPromptChanged}\n          imageSupport={imageSupport}\n        />\n      </InputContainer>\n      {model.choices.map((choice, index) => (\n        <ChoiceConfiguration\n          key={index}\n          noLabels\n          index={index + 1}\n          useLetterOrdering={model.keyMode === 'letters'}\n          className={classes.choiceConfiguration}\n          mode={model.choiceMode}\n          data={choice}\n          defaultFeedback={{}}\n          imageSupport={imageSupport}\n          onDelete={() => onRemoveChoice(index)}\n          onChange={c => onChoiceChanged(index, c)}\n          allowFeedBack={enableAddFeedBack}\n          allowDelete={enableDeleteChoice}\n        />\n      ))}\n      <br />\n      {\n        enableAddChoice &&\n        <Button variant=\"raised\" color=\"primary\" onClick={() => onAddChoice()}>\n          {addChoiceButtonLabel}\n        </Button>\n      }\n    </div>\n  );\n});\n\nconst Basics = props => {\n  log('[Basics] props', props);\n  const { classes, model, onChoiceModeChanged, onKeyModeChanged } = props;\n  const { configure: {\n    responseTypeLabel,\n    choicesLabel,\n    enableSelectResponseType,\n    enableSelectChoiceLabel\n  } } = model;\n\n  return (\n    <div className={classes.baseTypes}>\n      {\n        enableSelectResponseType &&\n        <ChoiceType header={responseTypeLabel} value={model.choiceMode} onChange={onChoiceModeChanged} />\n      }\n      {\n        enableSelectChoiceLabel &&\n        <KeyType header={choicesLabel} value={model.keyMode} onChange={onKeyModeChanged} />\n      }\n    </div>\n  );\n};\n\nBasics.propTypes = {\n  classes: PropTypes.object.isRequired,\n  model: PropTypes.object.isRequired,\n  onChoiceModeChanged: PropTypes.func.isRequired,\n  onKeyModeChanged: PropTypes.func.isRequired\n};\n\nexport class Main extends React.Component {\n  static propTypes = {\n    model: PropTypes.object.isRequired,\n    onPromptChanged: PropTypes.func.isRequired,\n    onPartialScoringChanged: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    imageSupport: PropTypes.shape({\n      add: PropTypes.func.isRequired,\n      delete: PropTypes.func.isRequired\n    })\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: 0\n    };\n  }\n\n  onTabsChange = (event, index) => {\n    this.setState({ index });\n  };\n\n  render() {\n    const { model, onPartialScoringChanged } = this.props;\n    const { index } = this.state;\n\n    return (\n      <div>\n        <Tabs onChange={this.onTabsChange} value={index}>\n          <Tab label=\"Design\" />\n          <Tab label=\"Scoring\" />\n        </Tabs>\n        {index === 0 && <Design {...this.props} />}\n        {index === 1 && (\n          <PartialScoringConfig\n            partialScoring={model.partialScoring}\n            label={model.partialScoringLabel}\n            onChange={onPartialScoringChanged}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Main);\n"]}