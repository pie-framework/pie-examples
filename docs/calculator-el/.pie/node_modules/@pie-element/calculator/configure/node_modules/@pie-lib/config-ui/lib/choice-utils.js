'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.firstAvailableIndex = exports.normalizeChoices = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _includes = require('lodash/includes');

var _includes2 = _interopRequireDefault(_includes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Add value to every model.choices.
 * @param {Object} model the model to normalize
 * @return {Object} the updated model
 */
var normalizeChoices = exports.normalizeChoices = function normalizeChoices(model) {
  var choices = model.choices.map(function (c, index) {
    if (!c.value) {
      c.value = '' + index;
    }
    return c;
  });
  return _extends({}, model, { choices: choices });
};

/**
 * Find the first available index.
 * @param {string[]} values
 * @param {number} index
 * @return {string}
 */
var firstAvailableIndex = exports.firstAvailableIndex = function firstAvailableIndex(values, index) {
  if ((0, _includes2.default)(values, '' + index)) {
    return firstAvailableIndex(values, index + 1);
  } else {
    return '' + index;
  }
};